<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Yes! üíñ</title>
  <style>
    body { font-family: 'Segoe UI', Roboto, Arial; margin:0; min-height:100vh; display:flex; align-items:center; justify-content:center; background: radial-gradient(circle at 20% 20%, #ff9a9e, transparent 20%), radial-gradient(circle at 80% 80%, #fad0c4, transparent 20%), linear-gradient(135deg,#ffecd2,#fcb69f); }
    .card { background: rgba(255,255,255,0.95); padding: 30px; border-radius: 18px; box-shadow: 0 8px 30px rgba(0,0,0,0.15); max-width:900px; width:calc(100% - 40px); text-align:center; }
    h1 { font-size:3.2rem; margin:0; color:#e91e63; text-shadow: 0 4px 12px rgba(233,30,99,0.2)}
    p.lead { font-size:1.1rem; margin:10px 0 20px; color:#555 }
    .controls { display:flex; gap:12px; justify-content:center; align-items:center; flex-wrap:wrap; margin-bottom:18px; }
    .btn { background: linear-gradient(90deg,#ff5f6d,#ffc371); border:none; padding:12px 18px; border-radius:999px; color:white; font-weight:700; cursor:pointer; box-shadow: 0 6px 18px rgba(0,0,0,0.12); }
    .btn.secondary { background:#eee; color:#333; box-shadow:none; }
    input[type="file"] { display:none; }
    label.upload { cursor:pointer; padding:10px 14px; border-radius:999px; background:linear-gradient(90deg,#ff9a9e,#fecfef); color:#fff; font-weight:600; box-shadow: 0 6px 18px rgba(0,0,0,0.08); }
    .gallery { display:grid; grid-template-columns: repeat(auto-fill,minmax(120px,1fr)); gap:12px; margin-top:18px; }
    .gallery img { width:100%; height:120px; object-fit:cover; border-radius:12px; box-shadow: 0 6px 16px rgba(0,0,0,0.12); transform-origin:center; transition: transform .22s ease; }
    .gallery img:hover { transform: translateY(-6px) scale(1.03); }
    .hearts { position:absolute; inset:0; pointer-events:none; overflow:hidden; }
    .heart { position:absolute; width:18px; height:18px; background: radial-gradient(circle at 30% 30%, #fff5, #f33); transform: rotate(-45deg); border-radius: 50% 50% 0 0; opacity: .9; animation: rise 4s linear infinite; }
    @keyframes rise { 0% { transform: translateY(100vh) rotate(-45deg) scale(.6); opacity:0 } 10% { opacity:1 } 100% { transform: translateY(-40vh) rotate(45deg) scale(1); opacity:0 } }
    textarea#letterInput { width:100%; max-width:820px; border-radius:12px; border:1px solid #eee; padding:12px; font-size:1rem; box-shadow: inset 0 2px 6px rgba(0,0,0,0.03); resize:vertical; }
    .letter-preview { position:relative; min-height:140px; background:linear-gradient(180deg,#fff,#fff8); border:1px solid rgba(0,0,0,0.06); border-radius:12px; padding:20px 22px 46px; color:#222; font-size:1.05rem; line-height:1.6; font-family: Georgia, 'Times New Roman', serif; letter-spacing:0.2px; white-space:pre-wrap; text-align:left; box-shadow: inset 0 1px 0 rgba(0,0,0,0.02); }
    .letter-preview p { margin:0 0 1rem; text-indent:1.2em; }
    .letter-preview .closing { margin-top:1.2rem; font-weight:700; text-align:left; }
    .letter-preview.hidden { display:none; }

    /* small author signature in the right corner */
    .letter-preview .author { position:absolute; right:18px; bottom:14px; font-size:.82rem; font-style:italic; color:#6b6b6b; opacity:.95; }

    /* utility hidden class for buttons/elements */
    .hidden { display:none !important; }

    /* stylish present button */
    .btn.present { background: linear-gradient(90deg,#ff9a9e,#ff6b6b); color:#fff; box-shadow: 0 10px 30px rgba(255,105,135,0.18); transition: transform .18s ease, box-shadow .18s ease; }
    .btn.present::before { content: 'üéÅ'; margin-right:8px; display:inline-block; transform: translateY(1px); }
    .btn.present:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 14px 40px rgba(255,105,135,0.28); }
    .btn.present.pulse { animation: pulse 1.2s ease-in-out 2; }
    @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.04); } 100% { transform: scale(1); } }

    .toast { position:fixed; left:50%; bottom:20px; transform:translateX(-50%); background:rgba(0,0,0,0.85); color:#fff; padding:10px 14px; border-radius:999px; opacity:0; pointer-events:none; transition:opacity .24s ease; z-index:80; }
    .toast.show { opacity:1; pointer-events:auto; }

    @media (max-width:480px){ h1{font-size:2rem} .gallery img{height:90px} textarea#letterInput{min-width:unset} .modal-content{padding:16px;border-radius:12px} }
  </style>
</head>
<body>
  <div class="card">
    <h1>Yes!! üíñüéâ</h1>
    <div class="controls">
      <div id="letterPreview" class="letter-preview hidden" aria-live="polite">
        <p>Dear Nurjamal,</p>
        <p>Each moment without you feels empty; my heart longs to be near you. With every glance and every memory we shared, I fell deeper in love with you. You are the most beautiful, smart, elegant, pretty, lovely girl I've ever known.</p>
        <p>I want to be the one who makes you smile every day and to stand by your side through thick and thin.</p>
        <div class="author">‚Äî with all my love, your Valentine</div>
      </div>
    </div>

    <div class="controls" style="margin-top:8px;">
      <button class="btn" id="openLetterBtn" aria-expanded="false">Read Letter</button>
      <button class="btn present hidden" id="presentBtn" aria-hidden="true">Get my present</button>
    </div> 
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite"></div> 

  <div class="hearts" id="hearts"></div>

  <script>
    const preview = document.getElementById('letterPreview');

    // Prewritten/static letter ‚Äî edit the HTML inside the #letterPreview element as needed.

    // Read letter toggle & present notification
    const openBtn = document.getElementById('openLetterBtn');
    const presentBtn = document.getElementById('presentBtn');
    const toast = document.getElementById('toast');

    function showToast(text, ms = 3000) {
      toast.textContent = text;
      toast.classList.add('show');
      setTimeout(() => toast.classList.remove('show'), ms);
    }

    openBtn.addEventListener('click', () => {
      const isHidden = preview.classList.contains('hidden');
      if (isHidden) {
        preview.classList.remove('hidden');
        openBtn.textContent = 'Hide Letter';
        openBtn.setAttribute('aria-expanded', 'true');
        // reveal the present button when the letter is shown
        presentBtn.classList.remove('hidden');
        presentBtn.setAttribute('aria-hidden', 'false');
        presentBtn.classList.add('pulse');
        setTimeout(() => presentBtn.classList.remove('pulse'), 1400);
        preview.scrollIntoView({ behavior: 'smooth', block: 'center' });
      } else {
        preview.classList.add('hidden');
        openBtn.textContent = 'Read Letter';
        openBtn.setAttribute('aria-expanded', 'false');
        presentBtn.classList.add('hidden');
        presentBtn.setAttribute('aria-hidden', 'true');
      }
    });

    presentBtn.addEventListener('click', async () => {
      showToast('Present requested ‚Äî notification sent!');
      // small visual confirmation
      presentBtn.classList.add('pulse');
      setTimeout(() => presentBtn.classList.remove('pulse'), 700);

      // send email notification via Formspree (free, no backend needed)
      try {
        const response = await fetch('https://formspree.io/f/mgolkokn', {
          method: 'POST',
          body: JSON.stringify({
            message: 'She clicked "Get my present" at ' + new Date().toLocaleString(),
            _subject: 'üéÅ Valentine Present Requested!'
          }),
          headers: { 'Content-Type': 'application/json' }
        });
        if (response.ok) console.log('Email sent!');
      } catch (err) {
        console.log('Email service not configured yet.');
      }

      if ('Notification' in window) {
        if (Notification.permission === 'granted') {
          new Notification('Present requested', { body: 'You asked for your present.' });
        } else if (Notification.permission !== 'denied') {
          const perm = await Notification.requestPermission();
          if (perm === 'granted') new Notification('Present requested', { body: 'You asked for your present.' });
        }
      }
    });

    // hearts animation
    const hearts = document.getElementById('hearts');
    function makeHeart() {
      const el = document.createElement('div');
      el.className = 'heart';
      el.style.left = Math.random() * 100 + '%';
      el.style.width = 8 + Math.random() * 20 + 'px';
      el.style.height = el.style.width;
      el.style.animationDuration = 3 + Math.random() * 3 + 's';
      hearts.appendChild(el);
      setTimeout(()=> el.remove(), 6000);
    }
    setInterval(makeHeart, 500);
  </script>
</body>
</html>